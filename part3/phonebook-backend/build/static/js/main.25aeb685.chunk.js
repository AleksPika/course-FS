(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(14),o=n.n(a),i=n(3),s=function(e){var t=e.filter,n=e.persons,r=e.deleteName;return n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(c.jsx)("table",{className:"table table-hover",style:{maxWidth:"650px"},children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:{minWidth:"200px"},children:e.name}),Object(c.jsx)("td",{style:{minWidth:"200px"},children:e.number}),Object(c.jsx)("td",{style:{minWidth:"200px"},children:Object(c.jsx)("button",{className:"btn btn-outline-success btn-sm ml-2",type:"button",value:e.id,onClick:r,children:"delete"})})]})})},e.id)}))},l=function(e){var t=e.type,n=e.value,r=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Name \ud83d\ude0e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"250px"},type:t,value:n,onChange:r})]})},u=function(e){var t=e.type,n=e.value,r=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Phone \u260e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"250px"},type:t,value:n,onChange:r})]})},d=function(e){var t=e.type,n=e.text;return Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-primary mt-2",type:t,children:n})})},j=function(e){var t=e.type,n=e.value,r=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Filter shown with \ud83d\udd0e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"150px"},type:t,value:n,onChange:r})]})},b=n(4),h=n.n(b),m="/api/persons",f=function(){return h.a.get(m).then((function(e){return e.data}))},p=function(e){return h.a.post(m,e).then((function(e){return e.data}))},x=function(e,t){return h.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){return h.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},v=function(e){var t=e.message,n=e.messageType;return null===t?null:Object(c.jsx)("div",{className:n,children:t})},y=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(""),b=Object(i.a)(o,2),h=b[0],m=b[1],y=Object(r.useState)(""),g=Object(i.a)(y,2),w=g[0],N=g[1],C=Object(r.useState)(""),k=Object(i.a)(C,2),S=k[0],T=k[1],W=Object(r.useState)(null),D=Object(i.a)(W,2),I=D[0],J=D[1],P=Object(r.useState)(null),A=Object(i.a)(P,2),E=A[0],L=A[1];Object(r.useEffect)((function(){f().then((function(e){a(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(v,{message:I,messageType:E}),Object(c.jsx)("div",{children:Object(c.jsx)(j,{type:"text",value:S,onChange:function(e){T(e.target.value)}})}),Object(c.jsx)("h1",{children:"Add a new number"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.find((function(e){return e.name===h}));if("undefined"===typeof t||t.number===w)return"undefined"!==typeof t?(m(""),N(""),L("error"),J("".concat(h," is already added to phonebook")),void setTimeout((function(){J(null),L(null)}),5e3)):void p({name:h,number:w}).then((function(e){a(n.concat(e)),m(""),N(""),L("verification"),J("Added ".concat(e.name)),setTimeout((function(){J(null),L(null)}),5e3)})).catch((function(e){L("error"),J("".concat(JSON.stringify(e.response.data))),setTimeout((function(){J(null),L("error")}),5e3)}));window.confirm("".concat(t.name," is already added to phonebook, replace the old number with a new one?"))&&x(t.id,{name:t.name,number:w}).then((function(e){a(n.map((function(n){return n.id!==t.id?n:e}))),L("verification"),J("The old number ".concat(t.name," replaced with a new one ")),setTimeout((function(){J(null),L(null)}),5e3),m(""),N("")}))},children:[Object(c.jsx)(l,{type:"text",value:h,onChange:function(e){m(e.target.value)}}),Object(c.jsx)(u,{type:"text",value:w,onChange:function(e){N(e.target.value)}}),Object(c.jsx)(d,{type:"submit",text:"add"})]}),Object(c.jsx)("h1",{children:"Numbers"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("table",{className:"table table-hover",style:{maxWidth:"650px"},children:Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Name"}),Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Phone"}),Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Delete"})]})})}),Object(c.jsx)(s,{filter:S,persons:n,deleteName:function(e){e.preventDefault();var t=parseInt(e.target.value),c=n[t-1].name;window.confirm("Delete ".concat(c," ?"))&&(O(t).catch((function(e){L("error"),J("Information of ".concat(c," has already been removed from server")),setTimeout((function(){J(null),L("error")}),5e3),a(n.filter((function(e){return e.id!==t})))})),a(n.filter((function(e){return e.id!==t}))))}})]})]})};n(37);o.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.25aeb685.chunk.js.map