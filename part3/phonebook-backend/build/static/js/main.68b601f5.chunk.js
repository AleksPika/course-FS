(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n(14),o=n.n(r),i=n(3),l=function(e){var t=e.person,n=e.deleteName;return Object(c.jsx)("table",{className:"table table-hover",style:{maxWidth:"650px"},children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{style:{minWidth:"200px"},children:t.name}),Object(c.jsx)("td",{style:{minWidth:"200px"},children:t.number}),Object(c.jsx)("td",{style:{minWidth:"200px"},children:Object(c.jsx)("button",{className:"btn btn-outline-success btn-sm ml-2",type:"button",value:t.id,onClick:n,children:"delete"})})]})})})},s=function(e){var t=e.type,n=e.value,a=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Name \ud83d\ude0e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"250px"},type:t,value:n,onChange:a})]})},u=function(e){var t=e.type,n=e.value,a=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Phone \u260e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"250px"},type:t,value:n,onChange:a})]})},d=function(e){var t=e.type,n=e.value,a=e.onChange;return Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Filter shown with \ud83d\udd0e:"}),Object(c.jsx)("input",{className:"form-control",style:{width:"150px"},type:t,value:n,onChange:a})]})},j=function(e){var t=e.type,n=e.text;return Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn btn-primary mt-2",type:t,children:n})})},b=n(4),h=n.n(b),m="/api/persons",f=function(){return h.a.get(m).then((function(e){return e.data}))},p=function(e){return h.a.post(m,e)},x=function(e,t){return h.a.put("".concat(m,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){if(window.confirm("Delete ".concat(e.name)))return h.a.delete("".concat(m,"/").concat(e.id)).then((function(e){return e.data}))},v=function(e){var t=e.message,n=e.messageType;return null===t?null:Object(c.jsx)("div",{className:n,children:t})},y=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),b=Object(i.a)(o,2),h=b[0],m=b[1],y=Object(a.useState)(""),g=Object(i.a)(y,2),w=g[0],N=g[1],C=Object(a.useState)(""),k=Object(i.a)(C,2),S=k[0],W=k[1],T=Object(a.useState)(!1),D=Object(i.a)(T,2),I=D[0],P=D[1],A=Object(a.useState)(null),E=Object(i.a)(A,2),J=E[0],L=E[1],B=Object(a.useState)(null),F=Object(i.a)(B,2),q=F[0],z=F[1];Object(a.useEffect)((function(){f().then((function(e){r(e)}))}),[]);var G,H=function(e){e.preventDefault();var t=parseInt(e.target.value),c=n[t-1].name;O(n[t-1]).catch((function(e){z("error"),L("Information of ".concat(c," has already been removed from server")),setTimeout((function(){L(null),z("error")}),5e3),r(n.filter((function(e){return e.id!==t})))})),r(n.filter((function(e){return e.id!==t})))},K=I?(G=S,n.filter((function(e){return-1!==e.name.toLowerCase().split(" ").join(" ").indexOf(G.toLowerCase())}))):n;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(v,{message:J,messageType:q}),Object(c.jsx)("div",{children:Object(c.jsx)(d,{type:"text",value:S,onChange:function(e){W(e.target.value),P(!0)}})}),Object(c.jsx)("h1",{children:"Add a new number"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.find((function(e){return e.name===h}));if("undefined"===typeof t||t.number===w){if("undefined"!==typeof t)return m(""),N(""),z("error"),L("".concat(h," is already added to phonebook")),void setTimeout((function(){L(null),z(null)}),5e3);p({name:h,number:w}).then((function(e){r(n.concat(e.data)),m(""),N(""),z("verification"),L("Added ".concat(e.name)),setTimeout((function(){L(null),z(null)}),5e3)}))}else x(t.id,{name:t.name,number:w}).then((function(e){window.confirm("".concat(e.name," is already added to phonebook, replace the old number with a new one?"))&&(r(n.map((function(n){return n.id!==t.id?n:e}))),z("verification"),L("The old number ".concat(t.name," replaced with a new one ")),setTimeout((function(){L(null),z(null)}),5e3)),m(""),N("")}))},children:[Object(c.jsx)(s,{type:"text",value:h,onChange:function(e){m(e.target.value)}}),Object(c.jsx)(u,{type:"text",value:w,onChange:function(e){N(e.target.value)}}),Object(c.jsx)(j,{type:"submit",text:"add"})]}),Object(c.jsx)("h1",{children:"Numbers"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("table",{className:"table table-hover",style:{maxWidth:"650px"},children:Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Name"}),Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Phone"}),Object(c.jsx)("th",{scope:"col",style:{minWidth:"200px"},children:"Delete"})]})})}),K.map((function(e){return Object(c.jsx)(l,{filter:I,person:e,deleteName:H},e.id)}))]})]})};n(37);o.a.render(Object(c.jsx)(y,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.68b601f5.chunk.js.map